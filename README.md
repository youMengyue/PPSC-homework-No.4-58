# SIMD 指令性能演示作业

## 学号：58

---

### 1. 指令推导过程

根据课程作业要求，基于学号 `58` 推导出需要演示的 SIMD 指令：

*   **指令前缀**:
    *   计算 `58 % 2` (58 除以 2 的余数)，结果为 `0`。
    *   根据规则，选择 `_mm` 作为前缀。

*   **指令后缀**:
    *   计算 `58 % 4` (58 除以 4 的余数)，结果为 `2`。
    *   根据规则，选择 `_pd` (Packed Double) 作为后缀。

*   **指令核心**:
    *   计算 `58 / 8` (58 除以 8 的商)，结果为 `7`。
    *   根据规则，选择 `_div` (Division) 作为核心操作。

---

### 2. 最终指令：`_mm_div_pd`

组合以上三个部分，最终确定本次作业需要演示的指令为 **`_mm_div_pd`**。

该指令属于 SSE2 指令集，其功能是在一个 128 位的寄存器中，同时对两个双精度浮点数（`double`）执行除法运算。

---

### 3. 程序目的

本程序旨在通过性能对比，清晰地展示 `_mm_div_pd` 指令的实用价值。

程序会执行以下操作：
1.  创建两个包含大量随机双精度浮点数的大型数组（被除数和除数）。
2.  **方法一（标量计算）**：使用标准的 `for` 循环，逐个元素地计算两个数组的商，并记录执行时间。
3.  **方法二（SIMD 计算）**：利用 `_mm_div_pd` 指令，每次并行处理两个 `double` 元素，计算两个数组的商，并记录执行时间。
4.  比较两种方法的执行时间，并计算性能提升的倍数，从而直观地证明 SIMD 技术在数据并行计算中的高效性。

---

### 4. 如何编译和运行

本项目使用 `Makefile` 进行管理，请确保您已安装 `g++` 和 `make`。

1.  **编译项目**:
    在终端中进入项目根目录，然后执行：
    ```bash
    make
    ```
    这将使用 `g++` 编译器和 `-O3` 优化选项生成一个名为 `homework_58` 的可执行文件。

2.  **运行程序**:
    执行以下命令来运行性能测试：
    ```bash
    make run
    ```
    或者直接运行：
    ```bash
    ./homework_58
    ```

3.  **清理生成文件**:
    如果需要删除生成的可执行文件，可以执行：
    ```bash
    make clean
    ```